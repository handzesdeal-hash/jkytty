import{a as c,f as b}from"../chunks/E9D7TTOk.js";import{w as at,x as l,v as et,y as rt,z as r,A as a,B as t,D as N,F as I,G as q,I as lt,J as V,$ as it}from"../chunks/C5VuHLXw.js";import{s as m}from"../chunks/BSpN-zZx.js";import{s as st,a as M,i as nt,b as X}from"../chunks/B0WN9cta.js";import{a as dt,e as j,i as G,R as D,b as Y,C as pt,r as K,c as vt,d as ct,f as bt,P as ut,g as Z,p as _t,h as xt}from"../chunks/Be5GejQx.js";import{h as mt}from"../chunks/Bb374Uz-.js";import{d as ft}from"../chunks/B4Cl8Z6L.js";import{b as tt}from"../chunks/Dybjs_BB.js";var yt=b('<th class="px-2 py-1 text-left"> </th>'),ht=b('<td class="w-20 px-2 py-1 tabular-nums"> </td>'),$t=b('<tr><td class="px-2 py-1"> </td><td class="px-2 py-1 tabular-nums"> </td><td class="px-2 py-1 tabular-nums"> </td></tr>'),gt=b('<h2 class="mb-3 text-xl font-semibold">Bins Distribution</h2> <div class="h-[400px] w-[800px]"><canvas></canvas></div> <table class="my-4 text-xs"><thead><tr></tr></thead><tbody><tr></tr></tbody></table> <table class="my-4 text-sm"><thead><tr><th class="px-2 py-1 text-left">Risk</th><th class="px-2 py-1 text-left">Expected value</th><th class="px-2 py-1 text-left">Actual value</th></tr></thead><tbody></tbody></table>',1);function Pt(z,J){at(J,!0);const C=()=>M(vt,"$binProbabilities",S),y=()=>M(K,"$rowCount",S),[S,E]=st();let W=N(()=>Object.keys(C())),u=N(()=>Object.values(C()).map(s=>s*100)),R=N(()=>Y[y()].map(s=>s*100));const O=(s,i,o)=>ct(bt[s][i],o),A=(s,{labels:i,binProbabilities:o,expectedProbabilities:d})=>{const p=new pt(s,{type:"bar",data:{labels:i,datasets:[{label:"Bin Probability",data:o},{label:"Expected Probability",data:d}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Bin Number"}},y:{title:{display:!0,text:"Probability (%)"}}},plugins:{tooltip:{callbacks:{label:v=>`${v.dataset.label}: ${v.parsed.y.toFixed(4)}%`}}}}});return{update:({labels:v,binProbabilities:w,expectedProbabilities:B})=>{p.data.labels=v,p.data.datasets[0].data=w,p.data.datasets[1].data=B,p.update()},destroy:()=>{p.destroy()}}};var U=gt(),h=l(et(U),2),F=r(h);dt(F,(s,i)=>A==null?void 0:A(s,i),()=>({labels:a(W),binProbabilities:a(u),expectedProbabilities:a(R)})),t(h);var H=l(h,2),f=r(H),$=r(f);j($,21,()=>a(W),G,(s,i)=>{var o=yt(),d=r(o,!0);t(o),I(()=>m(d,a(i))),c(s,o)}),t($),t(f);var g=l(f),P=r(g);j(P,21,()=>a(u),G,(s,i)=>{var o=ht(),d=r(o);t(o),I(p=>m(d,`${p??""}%`),[()=>a(i).toFixed(4)]),c(s,o)}),t(P),t(g),t(H);var k=l(H,2),L=l(r(k));j(L,21,()=>[D.LOW,D.MEDIUM,D.HIGH],G,(s,i)=>{var o=$t(),d=r(o),p=r(d,!0);t(d);var v=l(d),w=r(v,!0);t(v);var B=l(v),e=r(B,!0);t(B),t(o),I((n,_)=>{m(p,a(i)),m(w,n),m(e,_)},[()=>O(y(),a(i),Y[y()]).toFixed(5),()=>O(y(),a(i),Object.values(C())).toFixed(5)]),c(s,o)}),t(L),t(k),c(z,U),rt(),E()}var kt=b("<option> </option>"),wt=b("<option> </option>"),Bt=b('<button class="bg-cyan-100 p-2">Start Auto Drop</button>'),It=b('<button class="bg-cyan-100 p-2">Stop Auto Drop</button>'),Dt=b('<div class="h-[570px] w-[760px]"><!></div> <div class="mx-4 my-8 flex items-center gap-16"><div class="flex items-center gap-4"><label for="rowCount">Rows</label> <select id="rowCount" class="border border-gray-400 p-2"></select></div> <div class="flex items-center gap-4"><label for="riskLevel">Risk</label> <select id="riskLevel" class="border border-gray-400 p-2"></select></div> <button class="bg-cyan-100 p-2">Drop Ball</button> <!> <p>Dropped: <span> </span></p></div> <div class="mx-4 my-8"><!></div>',1);function Mt(z,J){at(J,!0);const C=()=>M(_t,"$plinkoEngine",E),y=()=>M(K,"$rowCount",E),S=()=>M(Z,"$riskLevel",E),[E,W]=st();let u=V(null),R=V(0);function O(){var e;(e=C())==null||e.dropBall(),q(R,a(R)+1)}function A(){q(u,setInterval(O,10),!0)}function U(){a(u)&&(clearInterval(a(u)),q(u,null))}var h=Dt();mt("1fb9yvs",e=>{lt(()=>{it.title="Plinko - Benchmark"})});var F=et(h),H=r(F);ut(H,{}),t(F);var f=l(F,2),$=r(f),g=l(r($),2);j(g,21,()=>xt,G,(e,n)=>{var _=kt(),Q=r(_,!0);t(_);var x={};I(()=>{m(Q,a(n)),x!==(x=a(n))&&(_.value=(_.__value=a(n))??"")}),c(e,_)}),t(g),t($);var P=l($,2),k=l(r(P),2);j(k,21,()=>[D.LOW,D.MEDIUM,D.HIGH],G,(e,n,_,Q)=>{var x=wt(),ot=r(x,!0);t(x);var T={};I(()=>{m(ot,a(n)),T!==(T=a(n))&&(x.value=(x.__value=a(n))??"")}),c(e,x)}),t(k),t(P);var L=l(P,2);L.__click=O;var s=l(L,2);{var i=e=>{var n=Bt();n.__click=A,c(e,n)},o=e=>{var n=It();n.__click=U,c(e,n)};nt(s,e=>{a(u)===null?e(i):e(o,!1)})}var d=l(s,2),p=l(r(d)),v=r(p,!0);t(p),t(d),t(f);var w=l(f,2),B=r(w);Pt(B,{}),t(w),I(()=>m(v,a(R))),tt(g,y,e=>X(K,e)),tt(k,S,e=>X(Z,e)),c(z,h),rt(),W()}ft(["click"]);export{Mt as component};
